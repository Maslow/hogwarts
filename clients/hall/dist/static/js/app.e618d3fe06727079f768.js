webpackJsonp([9],{"1UkF":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"layout"},[e("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":"/"},on:{"on-select":t.onSelect}},[e("div",{staticClass:"layout-logo"}),t._v(" "),e("div",{staticClass:"layout-nav"},[e("Menu-item",{attrs:{name:"/courses"}},[e("Icon",{attrs:{type:"flag"}}),t._v("\n                训练营\n          ")],1),t._v(" "),t.isLogined?e("Menu-item",{attrs:{name:"/logout"}},[e("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n                退出登录\n          ")],1):t._e(),t._v(" "),t.isLogined?t._e():e("Menu-item",{attrs:{name:"/login"}},[e("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n                登录\n          ")],1)],1)]),t._v(" "),e("div",{staticStyle:{clear:"both"}}),t._v(" "),e("div",{staticClass:"layout-content"},[e("transition",{attrs:{mode:"out-in"}},[e("router-view")],1)],1),t._v(" "),e("div",{staticClass:"layout-copy"},[t._v("\n        2016-2017 © step8step.com\n    ")])],1)},r=[],o={render:a,staticRenderFns:r};n.a=o},"8sJK":function(t,n){},M93x:function(t,n,e){"use strict";function a(t){e("RH5d")}var r=e("xJD8"),o=e("1UkF"),i=e("VU/8"),s=a,u=i(r.a,o.a,!1,s,"data-v-4e2303a4",null);n.a=u.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("Xxa5"),r=e.n(a),o=e("exGp"),i=e.n(o),s=e("7+uW"),u=e("M93x"),c=e("YaEn"),l=(e("Yxxh"),e("8sJK")),p=(e.n(l),function(){var t=i()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(6).then(e.bind(null,"+skl"));case 2:return t.next=4,e.e(7).then(e.bind(null,"BTaQ"));case 4:n=t.sent,s.default.use(n),c.a.beforeEach(function(t,e,a){n.Spin.show(),n.LoadingBar.start(),a()}),c.a.afterEach(function(t,e,a){n.Spin.hide(),n.LoadingBar.finish()}),new s.default({el:"#app",router:c.a,template:"<App/>",components:{App:u.a}});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}());s.default.config.productionTip=!1,p()},RH5d:function(t,n){},YaEn:function(t,n,e){"use strict";var a=e("7+uW"),r=e("/ocq");a.default.use(r.a),n.a=new r.a({routes:[{path:"/login",component:function(){return e.e(4).then(e.bind(null,"P7ry"))}},{path:"/register",component:function(){return e.e(3).then(e.bind(null,"S2NW"))}},{path:"/",component:function(){return e.e(0).then(e.bind(null,"eZCT"))}},{path:"/courses",component:function(){return e.e(0).then(e.bind(null,"eZCT"))}},{path:"/course/:id",component:function(){return e.e(5).then(e.bind(null,"MFJp"))}},{path:"/job/:sid",component:function(){return e.e(1).then(e.bind(null,"KvHI"))}},{path:"/section/:sid",component:function(){return e.e(2).then(e.bind(null,"bIqv"))}}]})},Yxxh:function(t,n,e){"use strict";var a=e("mvHQ"),r=e.n(a);n.a={G_API:"http://api.step8step.com:8888",param:"__identity",get:function(){var t=localStorage.getItem(this.param);return t?JSON.parse(t):null},set:function(t){localStorage.setItem(this.param,r()(t))},clear:function(){localStorage.removeItem(this.param)},getUserId:function(){var t=this.get();return t?t.uid:null},getAccessToken:function(){var t=this.get();return t?t.access_token:null},isExpired:function(){var t=(new Date).getTime(),n=this.get();return!(n&&n.expire&&n.expire>t)}}},vMJZ:function(t,n,e){"use strict";function a(t,n){return s.a.ajax({url:c+"/login",method:"post",data:{email:t,password:n}})}function r(t,n){return s.a.ajax({url:c+"/createUser",method:"post",data:{email:t,password:n}})}function o(){var t=u.a.getAccessToken();return s.a.ajax({url:c+"/validateToken",method:"post",data:{token:t}})}var i=e("7t+N"),s=e.n(i),u=e("Yxxh"),c=u.a.G_API;n.a={Login:a,Register:r,validateToken:o}},xJD8:function(t,n,e){"use strict";var a=e("Xxa5"),r=e.n(a),o=e("exGp"),i=e.n(o),s=e("Yxxh"),u=e("vMJZ");n.a={name:"app",data:function(){return{}},methods:{onSelect:function(t){if("/logout"===t)return s.a.clear(),this.$router.push("/login"),window.location.reload();this.$router.push(t)}},computed:{isLogined:function(){return!s.a.isExpired()}},mounted:function(){var t=this;return i()(r.a.mark(function n(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.validateToken();case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.status&&401==t.t0.status?s.a.clear():console.error(t.t0);case 10:case"end":return t.stop()}},n,t,[[0,7]])}))()}}}},["NHnr"]);
//# sourceMappingURL=app.e618d3fe06727079f768.js.map