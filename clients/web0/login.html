<!DOCTYPE html>
<html>

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MNHZDHB');</script>
<!-- End Google Tag Manager -->
<title>用户登录</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<!--
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
-->
<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" />

<style>
        body {
            font-family: 'Microsoft Yahei'
        }
    </style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNHZDHB" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="wrapper" class="container" style="margin-top:50px;">
<div class="page-header">
    <h1>登录
        <small>Login</small>
    </h1>
</div>
<div class="row">
    <div class="col-sm-5">
        <form class="form-horizontal">
            <div class="form-group">
                <label for="inputEmail" class="col-sm-2 control-label">邮箱</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" v-model="email" id="inputEmail" placeholder="Email">
                </div>
            </div>
            <div class="form-group">
                <label for="inputPassword" class="col-sm-2 control-label">密码</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" v-model="password" id="inputPassword" placeholder="Password">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-7">
                    <div class="btn btn-default" v-on:click="auth()">登录</div>
                </div>
                <div class="col-sm-3">
                    <a href="register.html" class="btn btn-link">快速注册</a>
                </div>
            </div>
        </form>
    </div>
</div>
<!--
    <script src="node_modules/jquery/dist/jquery.min.js" charset="utf-8"></script>
    <script src="node_modules/vue/dist/vue.min.js"></script>
    -->
<script src="//cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/vue/1.0.28/vue.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="common.js" charset="utf-8"></script>
<script src="api.js" charset="utf-8"></script>
<script type="text/javascript">
    new Vue({
        el: '#wrapper',
        data: {
            email: null,
            password: null
        },
        methods: {
            auth: function () {
                api.Login(this.email, this.password).success(function (data) {
                    Identity.set(data);
                    location.href = "courses.html"
                }).error(function (rs) {
                    alert("操作失败" + rs.responseText)
                })
            }
        }
    })
</script>

</body>

</html>